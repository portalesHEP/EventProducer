#!bin/bash

### --- TAG --- ###
#PROD_TAG="winter2023_training"
PROD_TAG="winter2023"
### --- STEP --- ###
STEP_PARAMS="--reco --detector IDEA --type stdhep"
### --- PARAM STRING (no need to edit) --- ###
PARAMS="--FCCee --send ${STEP_PARAMS} --prodtag ${PROD_TAG} --condor -q workday --priority group_u_CMS.u_zh.users"


### --- Njob per process --- ###
# Njob = requested_stat / Nevt_per_job (= requested_stat / 100000)
## e.g.: NJOB_PROCESS["wzp6_ee_nunuH_Hbb_ecm240"]="48" -> for 4 800 000
declare -A NJOB_PROCESS
#NJOB_PROCESS["wzp6_ee_qqH_ecm240"]="12" # this one already exists with the q=udscb definition. Needs to be deleted before submitting (or submitted with a different name)
NJOB_PROCESS["wzp6_ee_qqH_HZZ_qqqq_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_qqH_HZZ_qqnunu_ecm240"]="12"
#NJOB_PROCESS["wzp6_ee_nunuH_Hbs_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hbs_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hbs_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hbs_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hbs_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hbs_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hbs_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hbs_ecm240"]="12"
#NJOB_PROCESS["wzp6_ee_nunuH_Hbd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hbd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hbd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hbd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hbd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hbd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hbd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hbd_ecm240"]="12"
#NJOB_PROCESS["wzp6_ee_nunuH_Hsd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hsd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hsd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hsd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hsd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hsd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hsd_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hsd_ecm240"]="12"
#NJOB_PROCESS["wzp6_ee_nunuH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hcu_ecm240"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_ecm365"]="12"
#NJOB_PROCESS["wzp6_ee_eeH_ecm365"]="12"
#NJOB_PROCESS["wzp6_ee_mumuH_ecm365"]="12"
#NJOB_PROCESS["wzp6_ee_tautauH_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hbb_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hcc_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hss_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hgg_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Haa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_HZa_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Htautau_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_HZZ_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_HWW_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hbs_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hbd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hsd_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_nunuH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_eeH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_mumuH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_tautauH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_bbH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ccH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_ssH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_Hcu_ecm365"]="12"
NJOB_PROCESS["wzp6_ee_qqH_HZZ_qqqq_ecm365"]="12"

let ntot=0
for card in ${!NJOB_PROCESS[@]}
do
    ntot=$(( $ntot + ${NJOB_PROCESS[$card]} ))
    echo python bin/run.py -p ${card} -N ${NJOB_PROCESS[$card]} ${PARAMS} 
    python bin/run.py -p ${card} -N ${NJOB_PROCESS[$card]} ${PARAMS}
done
echo TOTAL: $ntot

